<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <link rel="stylesheet" href="/static/main.css">
  
  <title>Document</title>
</head>
<body>
  <div class="container-fluid">
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <ul class="navbar">
          <li><a id="len1" class="hoverable" href="/">Home</a></li>
          <li><a id="len2" class="hoverable" href="#">About</a></li>
          <li><a id="len3" class="hoverable" href="#">Contact</a></li>
        </ul>
      </div>
    </nav>
    <div>
      <div class="page-title">
        <h2 class="display-1">Query Scheduler</h2>
        <p class="lead">
          Streamlining grievance resolution through efficient query scheduling,<br>our company optimizes communication channels for timely and effective conflict resolution.
        </p>
      </div>
    </div>
   
      <div class="container mt-5">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-8">
                <form id="regForm" action="/" method="POST" >
                    <h1 id="register">Customer Support</h1>
                    <div class="all-steps" id="all-steps"> 
                      <span class="step"><i class="bi bi-person-fill"></i></span> 
                      <span class="step"><i class="bi bi-cart-check-fill"></i></span>
                      <span class="step"><i class="bi bi-pen-fill"></i></span>
                      <span class="step"><i class="bi bi-headset"></i></span>
                      
                    </div>
    
                    <div class="tab">
                        <p>
                          <input type="text" name = "user" placeholder="Unique Customer Id..." oninput="this.className = ''"></p>
                        
                    </div>
                    <div class="tab">
                        <p><input placeholder="Product" name="product" oninput="this.className = ''" ></p>
                        
                    </div>
                    <div class="tab">
                        <p><input placeholder="Subject" name="subject" oninput="this.className = ''"></p>
                    </div>
  
                    <div class="tab">
                      <button id="startButton" type="button">Place Call</button>
                      <button id="stopButton" type="button" disabled>End Call</button>

                  </div>
                   
  
                    <div class="thanks-message text-center" id="text-message"> <img src="data:image/jpeg;base64,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" width="100" class="mb-4">
                        
                    </div>
                    <div style="overflow:auto;" id="nextprevious">
                        <div style="float:right;">
                          <button type="button" id="prevBtn" onclick="nextPrev(-1)">Back</button> 
                          <button type="button" id="prevBtn" onclick="nextPrev(1)">Next</button> 
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    </div>
    
    
  </div>






  <script>
   
  let mediaRecorder;
        let chunks = [];

        const startRecording = () => {
            navigator.mediaDevices.getUserMedia({ audio: true })
            .then(stream => {
                mediaRecorder = new MediaRecorder(stream);
                mediaRecorder.start();

                mediaRecorder.ondataavailable = e => {
                    chunks.push(e.data);
                };
 
                mediaRecorder.onstop = async () => {
                const blob = new Blob(chunks, { type: 'audio/wav' });
                chunks = []; // Clear chunks array

                const handle = await window.showSaveFilePicker({
                    suggestedName: 'recording.wav',
                    types: [
                        {
                            description: 'Waveform Audio File',
                            accept: {
                                'audio/wav': ['.wav'],
                            },
                        },
                    ],
                });

                const writable = await handle.createWritable();
                await writable.write(blob);
                await writable.close();
                };
                document.getElementById('startButton').disabled = true;
                document.getElementById('stopButton').disabled = false;
            })
            .catch(err => {
                console.error('Error accessing the microphone: ', err);
            });
        };

        const stopRecording = () => {
            mediaRecorder.stop();
            document.getElementById('startButton').disabled = false;
            document.getElementById('stopButton').disabled = true;
        };

        document.getElementById('startButton').addEventListener('click', startRecording);
        document.getElementById('stopButton').addEventListener('click', stopRecording);

   
    var currentTab = 0;
    document.addEventListener("DOMContentLoaded", function(event) {


    showTab(currentTab);

    });

    function showTab(n) {
    var x = document.getElementsByClassName("tab");
    x[n].style.display = "block";
    if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
    } else {
    document.getElementById("prevBtn").style.display = "inline";
    }
    if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = '<i class="fa fa-angle-double-right"></i>';
    } else {
    document.getElementById("nextBtn").innerHTML = '<i class="fa fa-angle-double-right"></i>';
    }
    fixStepIndicator(n)
    }

    function nextPrev(n) {
    var x = document.getElementsByClassName("tab");
    if (n == 1 && !validateForm()) return false;
    x[currentTab].style.display = "none";
    currentTab = currentTab + n;
    if (currentTab >= x.length) {
  
    document.getElementById("nextprevious").style.display = "none";
    document.getElementById("all-steps").style.display = "none";
    document.getElementById("register").style.display = "none";
    document.getElementById("text-message").style.display = "block";




    }
    
    if (currentTab ==4){
      document.getElementById("regForm").submit();
    }
    
    showTab(currentTab);
    }

    function validateForm() {
          var x, y, i, valid = true;
          x = document.getElementsByClassName("tab");
          y = x[currentTab].getElementsByTagName("input");
          for (i = 0; i < y.length; i++) {
              if (y[i].value == "") {
                  y[i].className += " invalid";
                  valid = false;
              }


          }
          if (valid) {
              document.getElementsByClassName("step")[currentTab].className += " finish";
          }
          return valid;
      }

      function fixStepIndicator(n) {
          var i, x = document.getElementsByClassName("step");
          for (i = 0; i < x.length; i++) {
              x[i].className = x[i].className.replace(" active", "");
          }
          x[n].className += " active";
      }
  </script>
  
</body>
</html>
